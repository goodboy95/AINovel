# AINovel 用户手册 ✍️

欢迎使用 AINovel！这是一款面向中文创作者的“AI 小说创作助手”，帮你把一个灵感，发展成结构完整、人物鲜明、文笔连贯的小说作品。你可以在这里完成：故事构思 → 大纲规划 → 稿件写作 → 全程 AI 辅助润色与改写。

如果你是第一次使用，请先从“快速上手”开始。

—

## 1. 快速上手

本章节将带你用最少步骤完成从注册到生成第一个故事的全过程。

- 你将学会：
  - 注册账号与登录
  - 配置 AI 模型与 API Key
  - 一键生成“故事设定 + 角色卡”
  - 浏览和管理作品

步骤如下：

1) 打开应用
- 本地开发环境常见入口：
  - 前端开发服务器：http://localhost:5173
  - 后端整合静态资源：http://localhost:8080
- 首页界面非常简洁，请直接点击“注册”或“登录”按钮。

2) 注册账号
- 在“注册”页面，填写用户名、邮箱和密码。
- 点击“注册”按钮，成功后会自动跳转到登录页面。

3) 登录
- 在“登录”页面输入你的用户名与密码。
- 登录成功后，系统将自动进入“工作台”主界面。

4) 首次设置 AI（重要）
- 登录后，在工作台界面的右上角，你会看到当前登录的用户名。
- 点击用户名会弹出一个下拉菜单，选择“设置”。
- 在弹出的“AI 模型设置”对话框中，配置以下信息：
  - （可选）填写自定义的 `baseUrl`。
  - 输入“模型名称”（如 gpt-4o 等）。
  - 填写你的 API Key。
- 点击“测试连接”确保可用，成功后点击“保存设置”。

5) 生成第一个故事
- 进入“工作台”中的“故事构思”页签。
- 在左侧表单中输入“一句话想法”，并选择“类型/基调”。
- 点击“生成故事”，等待片刻，即可得到：
  - “故事卡”（标题、梗概、世界观/走向、类型/基调）
  - “角色卡”（每个角色包含姓名、简介、背景、关系等）
- 接下来你可以直接编辑这些内容，或使用“AI 润色”按钮优化文字。

完成以上步骤，你已经掌握了 AINovel 的基本用法！🎉


## 2. 核心功能介绍

### 2.1 故事构思：从一个想法到完整设定（含角色卡）🧠✨

目标：把“一句话想法”扩展为包含世界观/梗概/角色的完整故事设定。

操作步骤：
1) 打开“工作台” → 选择“故事构思”页签。
2) 在左侧表单填写：
   - 一句话想法（例如：在梦境驱动的城市里，侦探调查“睡梦中死亡”的案件）
   - 故事类型（科幻/奇幻/悬疑/恐怖/爱情…）
   - 故事基调（黑暗/幽默/严肃/冒险/异想天开…）
3) 点击“生成故事”。
4) 生成后，右侧会展示：
   - 故事卡：标题、梗概、故事走向（或世界观）
   - 角色卡：每个角色包含姓名、简介、背景、关系等
5) 可直接编辑文本；如需优化，用光标选中相关内容或在卡片区域右上角点击“✨ AI 优化”，输入“优化方向”，一键获得润色/扩写/改写结果。
6) 如需添加新角色：在角色区点击“+ 添加新角色”，填写后保存。

小贴士：
- 想法越具体，生成的结构越完整。
- 如果风格不合意，修改“类型/基调”或故事卡文本，再次使用“AI 润色”。


### 2.2 工作台：统一的故事管理与编辑中心 📂

新版“工作台”将故事列表与详情编辑合并到了一个页面，采用双栏布局，让你更高效地管理和创作。

**界面布局：**
- **左侧栏**：显示你所有的“故事列表”，并提供一个“创建新故事”的按钮。
- **右侧栏**：展示当前选中故事的“详情编辑区”，或一个用于创建新故事的空白表单。

**核心操作：**
1.  **查看与编辑故事**：
    - 在左侧列表中点击任意一个故事。
    - 右侧将立即加载该故事的“故事卡”和“角色卡”，你可以直接进行编辑和保存。
2.  **直接创建新故事**：
    - 点击左侧列表顶部的“创建新故事”按钮。
    - 右侧将出现一个空白的故事详情表单。
    - 填写“标题”、“梗概”等信息后，点击“保存”，一个全新的故事就创建成功了。
3.  **通过 AI 构思创建故事**：
    - 原有的“故事构思”功能依然保留。你可以通过 AI 生成故事设定和角色卡，它们会自动出现在左侧的故事列表中。

**导航建议：**
- **已有故事**：直接在工作台左侧选择故事，在右侧编辑。
- **新故事**：点击“创建新故事”直接手动创建，或通过“故事构思”页签由 AI 生成。
- **后续步骤**：完成故事设定后，可直接进入“大纲工作台”进行规划，或在“小说创作”页面开始写作。


### 2.3 大纲编辑：用树状编辑器规划章节与场景 🌳

目标：以“章节 → 场景”的结构化方式规划故事。

入口与概览：
- 进入“工作台”→“大纲工作台”页签。
- 左侧选择“故事”，可查看“历史大纲列表”，也可新建空白大纲。
- 中间显示“大纲结构树”，右侧为“生成/编辑区”。

常用操作：
1) 创建/选择大纲
   - 在左侧“故事与大纲”卡片中选择一个故事。
   - 点击“为当前故事创建新大纲”，或在历史列表中“选择此大纲”。

2) 逐章生成大纲
   - 右侧“生成新章节”区域会显示“当前正在生成：第 N 章”。
   - 设置“本章小节数”（每章包含几个场景）与“每节大概字数”。
   - 点击“生成第 N 章”，系统会自动调用 AI 生成该章及其场景的梗概、人物信息等。
   - 生成完成后，新章节会加入到大纲树中。

3) 编辑章节/场景
   - 在中间“大纲结构”树中，点击任一章节或场景。
   - 右侧会出现对应的“编辑表单”。
   - **修改预定字数**：你可以直接在表单中修改当前场景的“预定字数”。
   - **管理核心出场人物**：通过一个支持多选的下拉列表，你可以方便地从当前故事的角色列表中选择或移除核心出场人物。
   - 修改后点击“保存”。

4) 编辑流程
   - **进入编辑**：点击任一节点的“编辑”按钮后，系统将进入“编辑模式”。在此模式下，“生成新章节”等无关按钮会被隐藏。
   - **退出编辑**：编辑完成后，点击“返回”按钮即可退出编辑模式，恢复界面原貌。

小贴士：
- 你可以先快速搭好整体结构，再逐章细化，效率更高。
- 每章的“本章小节数/每节字数”会影响后续“正文生成”的篇幅与节奏。


### 2.4 稿件写作：为每个场景生成正式正文 📝

目标：在规划好大纲后，为同一个大纲创建和管理多篇小说（稿件），并为每个场景生成、编辑和保存正文。

入口与界面：
- 进入“工作台”→“小说创作”页签。
- **左侧**：现在包含三个层级选择器：
  1.  **选择故事**：列出你所有的故事。
  2.  **选择大纲**：根据所选故事，列出其下所有的大纲。
  3.  **选择或创建小说**：根据所选大纲，列出其下所有的小说（稿件），并提供“创建新小说”和“删除小说”的按钮。
- **右侧**：显示大纲结构树和正文编辑器。

操作步骤：
1.  **定位创作起点**：
    -   首先，在左上角的“选择故事”下拉框中选择一个故事。
    -   接着，在“选择大纲”下拉框中选择一个大纲。

2.  **管理小说（稿件）**：
    -   **创建小说**：点击“创建新小说”按钮，输入小说标题后，一篇新的空白稿件就创建好了。
    -   **选择小说**：在小说列表中点击一篇已创建的小说，右侧将加载其对应的正文内容。
    -   **删除小说**：选中一篇不再需要的小说，点击“删除小说”按钮进行清理。

3.  **生成与编辑正文**：
    -   从右侧的大纲树中点击一个“场景”。
    -   点击“✨ 生成内容”，系统会根据所有相关信息（故事、角色、大纲、场景）生成正文。
    -   在编辑器中直接修改内容，并随时点击“保存”。

小贴士：
-   “多小说”功能允许你基于同一份大纲，尝试不同风格、不同视角或不同情节走向的写作，互不干扰。
-   删除小说是不可逆操作，请谨慎使用。


### 2.5 AI 润色：随时让 AI 优化你的文字 ✨

你可以在多个位置看到“AI 优化”（通常为一个“✨”按钮），使用方式一致：

1) 在故事卡、角色卡、章节/场景编辑、或正文编辑区中，选定你想优化的文字。
2) 点击“✨ AI 优化”按钮，会弹出对话框。
3) 输入你的“优化方向”（可留空，如“更悬疑”、“更简洁”、“情绪更强烈”）。
4) 点击“开始优化”，稍等即可看到“优化结果”。
5) 点击“应用修改”，系统会用优化后的文本替换原文（你也可以“取消”，不应用修改）。

常见用途：
- 润色语句、扩写细节、统一风格、改写成另一种表达方式。


## 3. 高级功能与设置

### 3.1 管理与删除 🗑️

为了方便你管理自己的作品库，系统在多个层级提供了删除功能。**请注意：所有删除操作都是不可逆的，执行前请务必确认。**

-   **删除故事**：
    -   **入口**：工作台 → 故事列表
    -   **操作**：在左侧故事列表中，每个故事卡片上通常会有关联的删除按钮（例如垃圾桶图标）。点击后，将删除整个故事及其包含的所有大纲和小说。
-   **删除大纲**：
    -   **入口**：大纲工作台 → 大纲列表
    -   **操作**：在左侧大纲列表中，选中一个大纲后，点击“删除大纲”按钮。这将移除该大纲及其下的所有小说。
-   **删除小说**：
    -   **入口**：小说创作 → 小说列表
    -   **操作**：在左侧小说列表中，选中一篇小说后，点击“删除小说”按钮。

### 3.2 个性化 AI 设置（模型与 API Key）⚙️

入口：工作台右上角 → 点击用户名 → 选择“设置”

建议流程：
1) **（可选）配置 Base URL**：如果你需要通过代理或其他自定义节点访问 OpenAI 服务，可以在此输入你的 `baseUrl`。
2) **填写模型名称**：输入你希望使用的模型名称，例如 `gpt-4o` 或 `gpt-4-turbo`。
3) **输入 API Key**：填写你的 OpenAI API Key。
4) 点击“测试连接”，确保可用。
5) 点击“保存设置”。

安全说明：
- 你的 API Key 会在服务端进行加密存储。
- 为了安全，**设置界面不会再次明文显示你已保存的密钥**。如果密钥已设置，你将看到一个提示（如“API Key 已设置”）；如果未设置，则输入框为空。如需更换，直接在输入框中填入新密钥并保存即可。

使用建议：
- 不同模型的文风与长文本能力不同，建议多尝试并结合“优化方向”获得更满意的结果。
- 如遇失败或延迟，先“测试连接”，再检查 Key 是否有效、配额是否充足。


### 3.3 退出登录 🚪

- **入口**：工作台右上角 → 点击用户名 → 选择“退出”。
- **功能**：点击后，系统将清除你的登录状态，并自动返回到应用的首页。


### 3.4 角色管理：创建、编辑、删除角色卡 🧑‍🎨

入口：工作台 → “故事详情”
- 在“角色”列表中你可以：
  - 新建角色：“+ 添加新角色”
  - 编辑角色：修改“姓名/概要/详情/人物关系”等字段
  - 删除角色：用于清理不再需要的人物
  - AI 优化：为每个字段提供“✨ AI 优化”以快速润色或改写

建议做法：
- 保持“角色设定”与“大纲人物状态”一致，能显著提升“正文生成”的连贯性与可信度。
- 新角色出现前，先在“角色卡”补全设定，再在“大纲场景”中安排登场与作用。


## 4. 常见问题（FAQ）

Q1：我的 API Key 安全吗？🔐  
A：服务端会对你的 API Key 进行加密存储；接口不会把完整 Key 返回到页面。保存后页面也不会明文展示。如需更换 Key，可在“设置”中重新填写并保存。请确保你的运行环境使用安全协议（例如在生产使用 HTTPS）。

Q2：AI 生成的内容不满意怎么办？🧪  
A：建议分三步优化：
- 第一步：在当前文本上点“✨ AI 优化”，写明“优化方向”（如“更紧张刺激、伏笔更明显、对话更自然”）。
- 第二步：回到“大纲工作台”，加强该场景的梗概与人物状态（更具体的上下文能显著提升效果）。
- 第三步：在“小说创作”中重新“生成内容”。必要时，调整“每节大概字数”，以便 AI 有更充分的发挥空间。

Q3：如何导出我的作品？📤  
A：当前版本尚未提供一键导出功能。临时解决方案：
- 在“小说创作”中选中正文，复制到你常用的写作软件（如 Word、WPS、Notion、Obsidian）；
- 或使用浏览器“打印”→“另存为 PDF”导出；
- 我们将在后续版本中提供导出为 .txt / .md / .docx 的能力。

Q4：为什么点击“生成”没有反应或很慢？🐢  
A：请检查：
- “设置”中的 LLM 提供商与“模型名称”是否填写正确；
- “测试连接”是否成功；
- API Key 是否有效、配额是否足够；
- 网络状况是否良好；必要时稍后重试。

Q5：登录后又被要求重新登录？🔁  
A：登录依赖“令牌（Token）”，如果 Token 过期或失效，系统会自动将你带回登录页面。请重新登录即可；必要时刷新页面后重试。

Q6：我的内容会丢失吗？💾  
A：请在“小说创作”中养成“写完一段就点击保存”的习惯。网络抖动、浏览器意外关闭或 Token 过期都可能导致未保存的内容丢失。重要内容建议同时备份到本地文档。

Q.7：能否切换不同模型获得不同风格？🎭  
A：可以。在“设置”里切换模型与提供商，并配合“AI 优化”时的“优化方向”进行调整，常能获得明显不同的文风与节奏。

Q8：可以单独管理“临时角色”吗？👤  
A：在大纲与场景编辑中，系统支持为特定场景补充临时人物信息（如状态、心情、行动），AI 生成正文时会参考这些设定。建议在场景编辑时完善这部分信息。


## 5. 创作小贴士（可选阅读）💡

- 先结构后细节：先用大纲把“章节目标/场景作用/人物变化”想清楚，再进入正文更省力。
- 梗概要“可写作”：写清“冲突-转折-情绪推进”，正文才更有戏。
- 人物要“可表演”：在人物状态里写“想法+欲望+行动”，便于 AI 在正文中自然安排对话与动作。
- 反复打磨 Prompt：无论是“故事构思”还是“AI 优化”，你的提示越具体，效果越稳定。
- 多版本尝试：不急于一次定稿，生成不同版本对比，挑选更贴合你风格的表达。


—

祝你创作顺利，灵感常在！如果你完成了本手册中的所有步骤，已经可以用 AINovel 独立完成从想法到成稿的完整流程。🫶