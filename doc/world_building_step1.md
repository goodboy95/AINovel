# 世界构建 Step 1 —— 信息架构与提示词蓝图

## 1. 目标与交付物

本阶段聚焦于“定义什么内容需要被构建”。主要输出：

1. 世界构建模块的基础信息结构（顶栏元数据 + 7 个信息模块 + 字段明细）。
2. 每个字段的说明、Tooltip 文案、校验建议与 AI 优化关注点。
3. 模块级 AI 自动生成提示词模板与输出规范。
4. 正式创建时生成“世界完整信息”的提示词模板。
5. 字段级 AI 优化提示词通用骨架与字段专属补充说明。
6. 世界构建提示词的插值上下文定义，为后续模板引擎与帮助文档提供依据。

## 2. 世界基础信息（顶栏）

| 字段 Key | 字段名称 | 描述 | Tooltip 文案 | 类型与校验 |
| --- | --- | --- | --- | --- |
| `name` | 世界名称 | 世界的正式名称，必填。 | “请输入世界的正式名称或最常用称呼，可使用中文或英文，建议不超过 30 字。” | 单行文本；必填，1-30 字符。 |
| `tagline` | 一句话概述 | 用一句话描述世界的核心卖点。 | “用一句话概括这个世界的核心概念，例如‘魔法等于记忆’或‘漂浮大陆上的赛博城邦’。” | 单行文本；必填，20-60 字符。 |
| `themes` | 主题标签 | 3-5 个标签描述风格或主题。 | “输入 3-5 个标签，例如‘黑暗奇幻’、‘蒸汽朋克’。用于提示词上下文。” | Tag 输入；至少 1 个，最多 5 个。 |
| `creativeIntent` | 创作意图 | 记录创作目标、灵感或限制。 | “说明你希望在这个世界中探索的主题、灵感来源或需要遵守的禁忌。” | 多行文本；非空，建议 ≥150 字。 |
| `notes` | 开发者备注 | 可选，记录协作说明。 | “（可选）补充团队协作约定、参考资料链接等信息。” | 多行文本；可为空，建议 ≤300 字。 |

基础信息会作为上下文传入所有模块级提示词，帮助 AI 保持设定一致。

## 3. 插值上下文约定

世界构建提示词的上下文对象为：

```json
{
  "world": {
    "id": 123,
    "name": "永昼群星",
    "tagline": "白昼永不落的多层天空都市",
    "themes": ["高幻想", "阴谋", "成长"],
    "genre": "高幻想",
    "tone": "史诗",
    "creativeIntent": "我想探索……",
    "notes": "团队共识……"
  },
  "module": {
    "key": "cosmos",
    "label": "宇宙观与法则",
    "fields": {
      "cosmos_structure": "……",
      "space_time": "……"
    },
    "emptyFields": ["cosmos_structure", "space_time"],
    "dirtyFields": ["cosmos_structure"],
    "previousFullContent": "……"
  },
  "relatedModules": [
    {
      "key": "geography",
      "label": "地理与生态",
      "status": "READY",
      "summary": "北大陆被浮空珊瑚森林覆盖……"
    }
  ],
  "helper": {
    "fieldDefinitions": [
      {"key": "cosmos_structure", "label": "宇宙结构与尺度", "recommendedLength": "200-400 字"},
      {"key": "space_time", "label": "时间与空间规则", "recommendedLength": "200-350 字"}
    ],
    "markdownAllowed": true
  }
}
```

- `relatedModules` 按模块顺序传入，用于跨模块保持一致性。只包含已填写或已生成完整信息的模块。
- 所有提示词模板均可访问 `${world.*}`、`${module.*}`、`${relatedModules[*].summary}` 等变量，具体语法将在《世界构建提示词编写帮助》中详述。

## 4. 模块与字段设计

以下 7 个信息模块均为必填模块，建议按照顺序填写。表格中的“AI 优化关注点”用于字段级提示词填充。

### 4.1 模块一：宇宙观与法则（`cosmos`）

#### 字段明细

| 字段 Key | 字段名称 | 内容聚焦 | Tooltip 文案 | 校验建议 | AI 优化关注点 |
| --- | --- | --- | --- | --- | --- |
| `cosmos_structure` | 宇宙结构与尺度 | 描述世界的宏观形态、层级与维度。 | “说明世界的整体形态（行星、浮空层、巨兽背脊等）以及是否存在多层宇宙。” | 必填，建议 200-400 字。 | 强调整体结构与视觉意象。 |
| `space_time` | 时间与空间规则 | 解释时间流逝、空间边界与异常。 | “时间是否线性？能否穿越？空间有无裂隙、镜像、边界墙等特殊现象。” | 必填，建议 180-350 字。 | 聚焦时间机制与空间限制。 |
| `energy_system` | 能量/魔法来源与运作 | 说明力量来源、使用方式、代价。 | “力量来自何处？谁能使用？施展需要什么步骤或媒介？付出什么代价？” | 必填，建议 220-400 字。 | 明确来源、使用者、代价三要素。 |
| `technology_magic_balance` | 科技与超自然的关系 | 描述科技与超自然力量的互动。 | “科技水平如何？与魔法或超自然力量是融合、对立还是互补？” | 必填，建议 180-300 字。 | 比较两种体系如何共存或冲突。 |
| `constraints` | 法则限制与禁忌 | 列举世界运作的硬性限制。 | “列出世界设定中不能被打破的规则、禁忌或副作用，帮助保持逻辑一致。” | 必填，建议 150-250 字。 | 列出明确的约束条目。 |

#### 模块级 AI 自动生成提示词（默认）

```text
你是一名资深世界观设定顾问，请围绕「${world.name}」的“${module.label}”模块补全全部字段。

【已知基础信息】
- 世界概述：${world.tagline}
- 主题标签：${world.themes[*]|join(" / ")}
- 创作意图：${world.creativeIntent}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

【写作要求】
1. 输出必须是合法 JSON，对象键分别为 ${helper.fieldDefinitions[*].key|join(", ")}。
2. 如果字段已有内容，请在生成时充分参考原值 `${module.fields[FIELD_KEY]}` 并在必要时润色、补足，而不是完全覆盖设定。
3. 语言需具体、具有画面感，避免泛泛而谈。
4. 每个字段保持 180-400 字，必要时可使用有序列表表达规则。

请直接返回 JSON 对象，无需额外解释。
```

#### 正式创建 —— 完整信息生成提示词（默认）

```text
你是世界设定档案的撰稿人，请将「${world.name}」的“${module.label}”模块整理为一篇结构化说明，用于向作者与 AI 解释世界的基础法则。

【输入素材】
${helper.fieldDefinitions[*]|map(m -> "- " + m.label + "：" + module.fields[m.key])|join("\n")}

【撰写要求】
1. 以第一层标题“${module.label}”开篇，后续使用段落/列表组织，不要使用 Markdown 标题符号（#）。
2. 先给出 2-3 句概述，再按主题拆分段落（例如宇宙结构、时间规则、能量体系、科技关系、限制）。
3. 每个段落需包含明确的规则或示例，突出本世界的独特性。
4. 结尾追加“创作提示”段，提醒在小说创作中需要注意的设定边界。
5. 最终文字约 500-700 字，语言正式且便于引用。
```

#### 字段级 AI 优化提示词骨架

```text
你是一名严谨的世界构建编辑，负责完善「${world.name}」世界中“${module.label}”模块的【${fieldLabel}】字段。

【当前世界背景】
- 核心概述：${world.tagline}
- 主题标签：${world.themes[*]|join(" / ")}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

【优化目标】
${focusNote}
- 保持条理清晰，可使用短句或项目符号。
- 尊重已知规则，避免自相矛盾。

请在 180-400 字内重写下方内容，只返回优化后的正文，无需任何解释或 Markdown 标题。

原始文本：
"""
${originalText}
"""
```

字段对应的 `focusNote`：
- 宇宙结构与尺度：突出层级结构、空间形态与视觉符号。
- 时间与空间规则：解释时间流速、边界、可否穿越及代价。
- 能量/魔法来源与运作：明确来源、使用条件、施法流程与代价。
- 科技与超自然的关系：比较科技与超自然的相互作用与冲突点。
- 法则限制与禁忌：列出不可违背的规则，并说明违反后果。

### 4.2 模块二：地理与生态（`geography`）

#### 字段明细

| 字段 Key | 字段名称 | 内容聚焦 | Tooltip 文案 | 校验建议 | AI 优化关注点 |
| --- | --- | --- | --- | --- | --- |
| `world_map_overview` | 世界格局概览 | 概述大陆、海洋、天空层等整体格局。 | “描述世界的整体版图、主要大陆或层级结构，可附带方位与比例感。” | 必填，200-400 字。 | 交代整体地图与方向感。 |
| `signature_regions` | 代表性区域与地标 | 罗列 3-5 个标志性地点及特征。 | “列出最具代表性的区域或地标，每个附带特色、重要性与常见冲突。” | 必填，每条 2-3 句。 | 强调区域特色与剧情潜力。 |
| `climate_cycles` | 气候与季节循环 | 描述气候带、季节循环及异常气象。 | “说明不同地区的气候特点，是否存在特殊季节或极端天气。” | 必填，180-320 字。 | 展现对生态的影响与特殊现象。 |
| `sapient_species` | 智慧种族与分布 | 列出主要智慧种族及居住区域。 | “列举人类/非人种族，说明体貌、习俗、聚居地与势力范围。” | 必填，220-360 字。 | 关联地理与文化差异。 |
| `ecosystems_resources` | 生态系统与关键资源 | 描述生态链、特有生物与资源分布。 | “说明食物链、独特动植物、矿产或能量资源，以及资源争夺。” | 必填，220-360 字。 | 突出生态逻辑与资源冲突。 |

#### 模块级 AI 自动生成提示词（默认）

```text
你是一名世界地理设定专家，请为「${world.name}」的“${module.label}”模块生成详细内容。

【基础背景】
- 世界概述：${world.tagline}
- 主题标签：${world.themes[*]|join(" / ")}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

【写作要求】
1. 输出 JSON，键为 ${helper.fieldDefinitions[*].key|join(", ")}。
2. 若已有字段值，请基于原内容润色和扩展，保持既有设定。
3. 每个字段需包含具体地名、生物或资源，避免泛泛的“多山”“富饶”等模糊描述。
4. “代表性区域与地标”字段建议输出有序列表（1-5），其余字段输出段落文本。
```

#### 完整信息生成提示词（默认）

```text
请基于以下素材撰写「${world.name}」的《地理与生态总览》文档，长度约 500-700 字。

素材清单：
${helper.fieldDefinitions[*]|map(m -> "- " + m.label + "：" + module.fields[m.key])|join("\n")}

写作要求：
1. 首段总结世界地理格局与生态主题。
2. 按“总体格局 > 区域亮点 > 气候循环 > 种族分布 > 资源生态”顺序组织内容。
3. 在描述资源时指出潜在冲突或剧情线索。
4. 结尾提供 2-3 条创作建议，例如旅行描写、环境冲突的利用方式。
5. 不要使用 Markdown 标题。
```

#### 字段级 AI 优化 focusNote

- 世界格局概览：强调整体布局、方位与尺度对比。
- 代表性区域与地标：为每个地点提供特色、势力、剧情钩子。
- 气候与季节循环：说明气候规律、异常天气及其成因。
- 智慧种族与分布：展示种族与地域的关系与摩擦点。
- 生态系统与关键资源：突出资源稀缺性、生态链闭环与争夺。

（字段级提示词骨架与模块一相同，仅替换 `focusNote`）

### 4.3 模块三：社会与政治（`society`）

#### 字段明细

| 字段 Key | 字段名称 | 内容聚焦 | Tooltip 文案 | 校验建议 | AI 优化关注点 |
| --- | --- | --- | --- | --- | --- |
| `political_landscape` | 政体与势力分布 | 描述主要政体、势力、统治结构。 | “列出主要国家、联盟或组织，以及各自的统治方式与势力范围。” | 必填，200-360 字。 | 强调势力格局与权力来源。 |
| `law_order` | 法律体系与社会秩序 | 说明法律制定、执行机构与治安。 | “谁制定法律？执法机构怎样运作？社会治安如何保障或被破坏？” | 必填，180-320 字。 | 突出法律与民众生活的关系。 |
| `social_structure` | 社会阶层与民生结构 | 描述阶级划分、职业、日常生活。 | “阶层如何划分？职业分布与社会流动性如何？普通人的日常是什么样？” | 必填，200-350 字。 | 展现阶层差异与社会流动。 |
| `military_conflict` | 军事力量与冲突态势 | 说明军备、战略与主要冲突。 | “军队规模、装备与特色如何？目前有哪些热点冲突或潜在战争？” | 必填，200-320 字。 | 呈现冲突动因与关键战线。 |
| `governance_dynamics` | 权力运作与治理模式 | 解析幕后权力与政治文化。 | “描述权力如何运作：议会、贵族、教会或财阀？有哪些腐败、阴谋或改革？” | 必填，200-320 字。 | 揭示权力博弈与制度张力。 |

#### 模块级自动生成提示词

```text
请根据以下上下文，为「${world.name}」的“${module.label}”模块生成详细的社会与政治设定。

世界背景：
- 概述：${world.tagline}
- 主题：${world.themes[*]|join(" / ")}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

要求：
1. 输出 JSON，对象包含 ${helper.fieldDefinitions[*].key|join(", ")}。
2. 每个字段需包含结构（机构/阶层）、关键人物或组织、当前矛盾。
3. “军事力量与冲突态势”应包含至少一个正在进行或潜在的冲突场景。
4. 注意与其他模块（地理、历史、文化）的设定保持一致。
```

#### 完整信息提示词

```text
撰写《${world.name} 社会与政治蓝图》，目标读者为编剧与 AI 文本生成器。

输入：
${helper.fieldDefinitions[*]|map(m -> "- " + m.label + "：" + module.fields[m.key])|join("\n")}

结构建议：
1. 导语：概括政治基调与社会核心矛盾。
2. 政体结构：介绍主要政体与势力，列出代表人物或机构。
3. 社会面貌：描述阶层、职业、民生状态。
4. 秩序与冲突：说明法律、治安、军事实力与当前冲突。
5. 权力动态：分析潜在改革、阴谋或革命火种。
6. 创作提示：给出 2-3 条剧情应用建议。

篇幅：600-750 字，避免使用 Markdown 标题。
```

#### 字段 focusNote

- 政体与势力分布：明确势力、统治方式、影响范围。
- 法律体系与社会秩序：描述立法、司法、治安机制及漏洞。
- 社会阶层与民生结构：展现阶层、职业、流动性与日常。
- 军事力量与冲突态势：强调军力结构、战略、热点冲突。
- 权力运作与治理模式：揭示权力中心、幕僚、腐败与改革。

### 4.4 模块四：历史与传说（`history`）

#### 字段明细

| 字段 Key | 字段名称 | 内容聚焦 | Tooltip 文案 | 校验建议 | AI 优化关注点 |
| --- | --- | --- | --- | --- | --- |
| `creation_myth` | 创世神话与起源 | 讲述世界诞生与奠基事件。 | “描述世界如何诞生，是否由神祇、科学实验或自然演化而成。” | 必填，180-320 字。 | 讲述神话/起源并与现世呼应。 |
| `timeline_epochs` | 纪元与年代划分 | 列出主要纪元、时代与特点。 | “列出 3-5 个关键纪元/时代，标注起止、标志性事件与社会变化。” | 必填，使用分段或列表。 | 提供时间顺序与时代特征。 |
| `turning_points` | 关键历史事件 | 选取影响深远的事件。 | “挑选 3-5 个改变世界格局的事件，说明起因、经过、结果。” | 必填，每事件 2-3 句。 | 强调因果链与后续影响。 |
| `legendary_figures` | 传奇人物与传承 | 描述历史人物、英雄或恶棍。 | “介绍历史上的英雄、反派或文化符号，他们的遗产如何影响当下。” | 必填，180-300 字。 | 展示人物事迹与文化影响。 |
| `prophecies` | 预言、禁忌与未解之谜 | 整理未解之谜或预言。 | “列出仍影响当下的预言、禁忌、谜团，说明可信度与现状。” | 必填，150-280 字。 | 强调悬念与剧情伏笔。 |

#### 模块级自动生成提示词

```text
作为历史顾问，请补充「${world.name}」世界的历史与传说。

背景摘要：
- 世界概述：${world.tagline}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

任务：输出 JSON，字段包括 ${helper.fieldDefinitions[*].key|join(", ")}。
要求：
1. 使用叙事化语言，突出事件因果与人物动机。
2. “纪元与年代划分”可使用编号列表，包含时间跨度与关键变革。
3. “预言、禁忌与未解之谜”需指出当下的影响或待解线索。
```

#### 完整信息提示词

```text
撰写《${world.name} 历史与传说档案》，供世界观资料库引用。

素材：
${helper.fieldDefinitions[*]|map(m -> "- " + m.label + "：" + module.fields[m.key])|join("\n")}

要求：
1. 以叙事性导语引入世界历史基调。
2. 采用“时代纵览 > 重大事件 > 传奇人物 > 未解之谜”结构。
3. 强调历史对当前社会、文化与冲突的影响。
4. 结尾列出 2 条适合在作品中揭示或反转的历史伏笔。
5. 篇幅 500-700 字，不使用 Markdown 标题。
```

#### focusNote

- 创世神话与起源：讲述起源故事，联系现世影响。
- 纪元与年代划分：按时间顺序列出时代与变化。
- 关键历史事件：强调因果、牵涉势力与遗产。
- 传奇人物与传承：突出人物性格、贡献、遗产。
- 预言、禁忌与未解之谜：呈现谜团、可信度、现状影响。

### 4.5 模块五：文化与日常（`culture`）

#### 字段明细

| 字段 Key | 字段名称 | 内容聚焦 | Tooltip 文案 | 校验建议 | AI 优化关注点 |
| --- | --- | --- | --- | --- | --- |
| `religion_faith` | 宗教体系与信仰实践 | 描述神祇体系、教义、仪式。 | “说明主要宗教或信仰、神祇分工、重要节日与禁忌。” | 必填，200-320 字。 | 展示信仰结构与社会影响。 |
| `language_communication` | 语言与交流 | 介绍主要语言、文字、沟通方式。 | “列出主要语言/文字体系，方言或跨文化沟通手段。” | 必填，180-260 字。 | 强调语言差异与沟通障碍。 |
| `arts_entertainment` | 艺术、娱乐与媒体 | 描述艺术形式、娱乐活动、传媒。 | “说明大众娱乐、艺术风格、传播渠道（戏剧、战斗竞技、虚拟现实等）。” | 必填，180-300 字。 | 展示文化生活与情绪色彩。 |
| `customs_rituals` | 社会习俗与仪式 | 说明婚丧嫁娶、节庆与礼仪。 | “列出重要仪式、传统礼节，以及它们的象征意义。” | 必填，180-300 字。 | 强调习俗背后的价值观。 |
| `values_morality` | 价值观与伦理争议 | 总结主流价值与道德冲突。 | “描述社会普遍崇尚什么？有哪些道德争议或禁区？” | 必填，200-320 字。 | 呈现价值冲突与时代风貌。 |

#### 模块级自动生成提示词

```text
请以文化学者视角，为「${world.name}」生成“${module.label}”模块的全部字段。

世界背景：
- 概述：${world.tagline}
- 主题标签：${world.themes[*]|join(" / ")}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

要求：
1. 返回 JSON，对象包含 ${helper.fieldDefinitions[*].key|join(", ")}。
2. 强调文化如何回应历史事件、社会结构和地理环境。
3. 至少提供 2 个具体节庆、仪式或娱乐例子。
4. “价值观与伦理争议”需呈现对立观点与矛盾点。
```

#### 完整信息提示词

```text
撰写《${world.name} 文化与日常生活档案》，长度约 550-700 字。

素材：
${helper.fieldDefinitions[*]|map(m -> "- " + m.label + "：" + module.fields[m.key])|join("\n")}

结构建议：
1. 导语：概括文化基调与日常生活特色。
2. 信仰与语言：描述宗教体系与语言差异。
3. 艺术与娱乐：呈现典型艺术形式、娱乐方式。
4. 习俗与礼仪：列出关键仪式与社会意义。
5. 价值观冲突：分析道德分歧及其引发的社会议题。
6. 创作提示：提供 2 条文化细节在故事中的应用建议。

输出为连续段落，不使用 Markdown 标题。
```

#### focusNote

- 宗教体系与信仰实践：描绘神祇、仪式、社会影响。
- 语言与交流：说明语言谱系、方言、沟通方式。
- 艺术、娱乐与媒体：展示大众娱乐、媒介、象征。
- 社会习俗与仪式：描述仪式流程、象征意义、差异。
- 价值观与伦理争议：提出主流价值与对立观点。

### 4.6 模块六：经济与科技（`economy`）

#### 字段明细

| 字段 Key | 字段名称 | 内容聚焦 | Tooltip 文案 | 校验建议 | AI 优化关注点 |
| --- | --- | --- | --- | --- | --- |
| `economic_system` | 经济体系与货币 | 描述经济模式、货币与财富流动。 | “说明主要经济模式（农业、贸易、能源等）与货币体系或交换方式。” | 必填，200-320 字。 | 展现核心经济结构与币制。 |
| `industry_trade` | 产业与贸易网络 | 列出关键产业、贸易路线与伙伴。 | “列举支柱产业、重要贸易路线、合作或竞争势力。” | 必填，200-320 字。 | 强调物流链与利益关系。 |
| `technology_level` | 科技/魔法应用水平 | 描述科技（含魔法科技）的发展程度。 | “说明整体科技阶段，以及在通信、医疗、军事等方面的特点。” | 必填，200-320 字。 | 结合行业案例说明科技差异。 |
| `infrastructure` | 交通、通讯与基础设施 | 说明交通方式、通讯网络、公共设施。 | “描述主要交通工具、通讯手段（魔法/科技）和公共基础设施。” | 必填，200-300 字。 | 展示基础设施如何支撑社会。 |
| `daily_life_tech` | 日常生活技术与民生 | 描述民众日常使用的技术或魔法。 | “举例说明普通人在衣食住行、医疗等方面使用的技术或便利。” | 必填，180-280 字。 | 聚焦民生体验与普及度。 |

#### 模块级自动生成提示词

```text
请以世界经济分析师的视角，为「${world.name}」补全“${module.label}”模块。

背景：
- 世界概述：${world.tagline}
- 主题：${world.themes[*]|join(" / ")}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

要求：
1. 输出 JSON，键为 ${helper.fieldDefinitions[*].key|join(", ")}。
2. 描述经济结构时关联资源、社会、历史模块中的设定。
3. 在“产业与贸易网络”中至少提供一个贸易冲突或合作案例。
4. “科技/魔法应用水平”需区分高端与民用差异。
```

#### 完整信息提示词

```text
撰写《${world.name} 经济与科技白皮书》摘要版，篇幅 600 字左右。

素材：
${helper.fieldDefinitions[*]|map(m -> "- " + m.label + "：" + module.fields[m.key])|join("\n")}

结构建议：
1. 总览：经济体系、货币与整体繁荣度。
2. 核心产业：描述主要产业、贸易网络与关键利益相关者。
3. 科技/魔法应用：区分军用、民用、黑市等层级。
4. 基础设施：阐述交通、通讯、能源的运行模式。
5. 民生体验：说明普通人如何接触并受益/受限于技术。
6. 创作提示：提供经济冲突、科技伦理的剧情切入点。

输出为段落文本。
```

#### focusNote

- 经济体系与货币：明确经济模式、货币、财富流动。
- 产业与贸易网络：描述供应链、贸易伙伴、冲突。
- 科技/魔法应用水平：说明科技层级、领域差异。
- 交通、通讯与基础设施：展示基础设施覆盖与缺口。
- 日常生活技术与民生：强调普通人如何使用技术。

### 4.7 模块七：势力与剧情钩子（`factions`）

#### 字段明细

| 字段 Key | 字段名称 | 内容聚焦 | Tooltip 文案 | 校验建议 | AI 优化关注点 |
| --- | --- | --- | --- | --- | --- |
| `faction_overview` | 主导势力与组织 | 列出 3-5 个核心势力及目标。 | “介绍掌握话语权的势力或组织，说明核心人物、目标与资源。” | 必填，200-320 字。 | 突出势力目标与资源优势。 |
| `species_relations` | 种族关系与联盟 | 概述种族间的合作、矛盾与盟约。 | “说明主要种族之间的联盟、仇恨、贸易或互补关系。” | 必填，200-320 字。 | 强调关系网与张力。 |
| `current_conflicts` | 当前冲突与危机 | 描述正在进行的冲突、危机或阴谋。 | “列出 2-3 个当下的冲突（战争、瘟疫、政治危机），说明牵涉势力。” | 必填，180-300 字。 | 呈现冲突动因与利害关系。 |
| `key_locations` | 关键地点与剧情场景 | 点名对剧情至关重要的地点。 | “列出可能成为剧情舞台的地点，解释其重要性与隐藏秘密。” | 必填，180-280 字。 | 指出地点与势力/冲突的关联。 |
| `story_hooks` | 故事钩子与潜在剧情线 | 提供可直接用于创作的剧情钩子。 | “输出 3-5 条故事钩子，指出涉及的角色、地点、冲突与潜在转折。” | 必填，列点呈现。 | 输出可执行的剧情线索。 |

#### 模块级自动生成提示词

```text
请以剧本统筹的角色，为「${world.name}」撰写“${module.label}”模块内容。

参考背景：
- 世界概述：${world.tagline}
${relatedModules[*]|map(m -> "- " + m.label + "摘要：" + m.summary)|join("\n")}

要求：
1. 输出 JSON，键为 ${helper.fieldDefinitions[*].key|join(", ")}。
2. 每个势力/故事钩子需明确“目标”“阻力”“可能后果”。
3. “关键地点”需说明它与势力或冲突的关联。
4. 语气偏叙事，便于直接转化为剧情大纲。
```

#### 完整信息提示词

```text
撰写《${world.name} 剧情钩子总览》，以供工作台引用。

素材：
${helper.fieldDefinitions[*]|map(m -> "- " + m.label + "：" + module.fields[m.key])|join("\n")}

写作要求：
1. 以“势力棋局”导语开启，强调世界当前的紧张局势。
2. 将内容组织为：势力图谱 → 种族关系 → 当前冲突 → 关键地点 → 故事钩子。
3. 每个故事钩子至少包含：触发事件、关键冲突、潜在结局。
4. 结尾提示如何根据钩子衍生主线与支线。
5. 篇幅 600-750 字，段落化呈现。
```

#### focusNote

- 主导势力与组织：聚焦目标、资源、领导者、弱点。
- 种族关系与联盟：突出合作/敌对、利益交换。
- 当前冲突与危机：描述冲突背景、火药味与风险。
- 关键地点与剧情场景：明确地点作用、隐秘要素。
- 故事钩子与潜在剧情线：给出可执行、含冲突的剧情起点。

## 5. 默认提示词总结

| 类型 | 模板命名建议 | 适用范围 |
| --- | --- | --- |
| 模块自动生成 | `world.module.${moduleKey}.draft` | 顶部“AI 自动生成本模块”。 |
| 字段优化骨架 | `world.field.refine`（配合 `focusNote`） | 字段级“AI 优化”。 |
| 完整信息生成 | `world.module.${moduleKey}.final` | 正式创建生成队列。 |

后续阶段实现时，需将上述模板注册为默认值，并支持在《Step 5》中的配置页面进行覆盖/重置。

## 6. 验收标准

- 世界基础信息与 7 个模块共 35 个字段均有明确说明与 Tooltip 文案。
- 每个模块均提供默认的模块自动生成提示词、完整信息提示词。
- 字段级 AI 优化骨架明确，且为每个字段提供 focusNote。
- 插值上下文结构经团队评审确认，将用于模板引擎与帮助文档。
- 文档完成后即可进入 Step 2 进行数据建模与 API 设计。
