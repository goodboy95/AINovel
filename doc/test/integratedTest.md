# 集成/系统测试用例

- **认证链路**：注册（人机验证→验证码）→登录→`/api/v1/auth/validate`；预期获得 JWT 并能访问受保护路由。
- **个人中心积分**：签到成功后余额增加并刷新；兑换码领取成功后余额增加；修改密码提示成功。
- **后台管理权限**：普通用户无法访问 `/admin/*`，管理员可访问并操作。
- **后台模型管理**：调整模型倍率/启用状态后列表刷新一致。
- **后台用户管理**：封禁/解封、发放积分后列表状态刷新。
- **后台积分日志**：生成与签到/兑换操作后日志可见。
- **后台系统设置**：注册开关、维护模式、签到积分区间保存后回显一致。
- **故事 CRUD**：创建故事，刷新列表，更新标题，删除后列表为空。
- **大纲保存**：创建大纲，新增章节/场景并保存，重新打开校验数据持久化。
- **稿件编写**：创建稿件，生成场景正文占位，保存正文，角色变化分析返回日志。
- **AI Copilot（示例）**：打开 Copilot 侧边栏并触发润色/建议操作无报错。
- **素材流程**：创建素材→上传 TXT 轮询完成→在审核页批准→列表可见；检索接口返回得分排序。
- **世界观**：新建世界，保存模块字段，发布与生成状态返回 COMPLETED；定义接口返回字段配置。
- **设置/提示词**：读取、更新、重置提示词与模型配置；元数据接口可被帮助页渲染。
- **AI 配置注入**：使用管理员登录后访问 `/api/v1/settings`，应返回 Base URL `https://www.packyapi.com/v1`、Model `gemini-2.5-flash`，并且 `POST /api/v1/settings/test` 返回 true。
- **部署验证**：执行 `build.sh`/`build_prod.sh`（宿主机构建产物并挂载到容器）后 docker 容器全部健康，浏览器通过 `http://ainovel.seekerhut.com` 正常访问，后端 `http://ainovel.seekerhut.com:20001/api` 正常响应。
- **依赖容器端口**：MySQL 容器监听 `127.0.0.1:3308`，Redis 容器监听 `127.0.0.1:6381`，后端能正常连接两者。
