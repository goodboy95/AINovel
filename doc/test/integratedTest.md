# 集成/系统测试用例

- **认证链路**：注册（人机验证 PoW→验证码）→登录→`/api/v1/user/profile`；预期获得 JWT 并能访问受保护路由；验证码频控触发返回 429。
- **Dashboard**：登录后进入 `/dashboard`，统计来自 `/api/v1/user/summary` 正常展示；点击卡片跳转到 `/novels`、`/worlds`。
- **邮件验证管理**：管理员进入 `/admin/email` 可看到验证码记录并可发送 SMTP 测试邮件。
- **后台全局配置**：管理员在 `/admin/settings` 配置 SMTP/LLM（对应 `/api/v1/admin/system-config`），保存后回显一致；SMTP 测试邮件可发送；普通用户 AI 可使用全局 LLM 配置。
- **个人中心积分**：签到成功后余额增加并刷新；兑换码领取成功后余额增加；修改密码提示成功。
- **后台管理权限**：普通用户无法访问 `/admin/*`，管理员可访问并操作。
- **后台模型管理**：调整模型倍率/启用状态后列表刷新一致。
- **后台用户管理**：封禁/解封、发放积分后列表状态刷新。
- **后台积分日志**：生成与签到/兑换操作后日志可见。
- **后台系统设置**：注册开关、维护模式、签到积分区间保存后回显一致。
- **小说管理**：`/novels` 列表加载、创建（`/novels/create`）、删除；点击卡片进入 `/workbench?id=...`。
- **大纲保存**：创建大纲，新增章节/场景并保存，重新打开校验数据持久化。
- **稿件编写**：在“小说创作”中选择场景，自动保存与手动保存均生效；生成场景正文可写入对应 sceneId。
- **AI Copilot**：打开 Copilot 侧边栏，调用 `/api/v1/ai/chat` 返回内容并产生积分扣减与日志。
- **素材流程**：创建素材→上传 TXT 轮询完成→在审核页批准→列表可见；检索接口返回得分排序。
- **世界管理/编辑**：`/worlds` 列表加载与创建；`/world-editor?id=...` 保存模块字段；发布预检与生成流程可完成并更新版本/状态。
- **设置/提示词**：读取、更新、重置提示词与模型配置；元数据接口可被帮助页渲染。
- **部署验证**：执行 `build_prod.sh` 后 docker 容器健康；浏览器通过域名正常访问；后端 `/api/*` 正常响应。
- **依赖容器端口**：MySQL 容器监听 `127.0.0.1:3308`，Redis 容器监听 `127.0.0.1:6381`，后端能正常连接两者。
